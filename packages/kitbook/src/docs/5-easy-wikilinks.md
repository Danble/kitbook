# Easy Wikilinks

Kitbook supports using [Foam](https://foambubble.github.io/foam/) to easily add [wikilinks](https://foambubble.github.io/foam/user/features/wikilinks) between your various documentation pages in a manner that ensures they always stay up-to-date.

## Setup Foam

- Add the [Foam extension](https://marketplace.visualstudio.com/items?itemName=foam.foam-vscode)
- Optimize the extension's settings by adding these lines:

```json title=".vscode/settings.json"
{
  "foam.completion.label": "title",
  "foam.edit.linkReferenceDefinitions": "withoutExtensions",
  "foam.files.ignore": [
      "**/node_modules/**/*",
      // if you happen to have unrelated markdown files in other folders not part of your Kitbook you can add those here to avoid autocompletion noise
  ]
}
```

Add a placeholder file to tell Foam to turn on:

```json title=".vscode/foam.json"
{
  "purpose": "this file exists to tell the foam-vscode plugin that it's currently in a foam workspace",
  "future": "we may use this for custom configuration"
}
```

- Adding the [Markdown All in One extension](https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one) is also recommended but not required for Foam functionality. It's best feature is the ability to paste a URL on top of highlighted text to automatically create a markdown link.

## Usage

You should read the [Foam](https://foambubble.github.io/foam/) docs, but to give you a quick start, you can create a link to any other `.md` file in your repo by typing `[[` and then letting Foam's autocomplete help you as you type either the filename or the main heading. To link to a page with a name of `5-easy-wiki-links` and a main heading of `Easy Wiki Links`, just start typing heading `[[Easy Wi` and select the autocomplete option to place`[[5-easy-wiki-links]]` in your code. Now you can now click the link in your editor to jump to that file. But it may not be appearing as a link in your browser. Try making one more edit to your file (like a space) and you'll notice Foam automatically creates a [wikilink](https://foambubble.github.io/foam/user/features/wikilinks) reference at the bottom of your file. Kitbook will turn this into the appropriate link for you. 

The Foam extension does a good job of automatically updating links as you change filenames but until you are very familiar with its behavior, it's a good idea to occasionally run [`Foam: Run Janitor`](https://foambubble.github.io/foam/user/tools/workspace-janitor) from VS Code's command palette to ensure the links across your entire repo are up to date.

### Using Aliases
Sometimes when you link to a page in mid sentence like [[1-get-started|this project's amazing guide to getting started]] you want to use a custom alias for your wikilink. You can do that by adding a `|` character followed by your alias. That link you just saw looks like `[[1-get-started|this project's amazing guide to getting started]]` in the source code.

### Linking to a sub-heading

[Foam](https://foambubble.github.io/foam/) supports [linking to specific sections](https://foambubble.github.io/foam/user/features/wikilinks#support-for-sections) of a page, which you can also take advantage of in Kitbook. So `[[5-easy-wikilinks#Setup Foam]]` would result in a direct link to the section above and looks like: [[5-easy-wikilinks#Setup Foam]] (try it). If you change your section titles, Foam will not automatically update the link to that section though it will give you a linting error on the wikilink that no section with such title exists.

[//begin]: # "Autogenerated link references for markdown compatibility"
[1-get-started|this project's amazing guide to getting started]: 1-get-started "Get Started: How to Create a KitBook"
[5-easy-wikilinks#Setup Foam]: 5-easy-wikilinks "Easy Wikilinks"
[//end]: # "Autogenerated link references"